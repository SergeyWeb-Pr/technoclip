{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;AAAe;AACf;AACA;AACA,sBAAsB;AACtB,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,SAAS;AACnF;AACA;AACA;AACA;AACA,yDAAyD,kBAAkB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;AC1LAA,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,C;;;;;;;;;;;;ACAzB;AACqC;AACrC,MAAME,KAAK,GAAG,IAAID,mDAAU,CAAC,CAAC;AAE9BE,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB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","sources":["webpack://gulp-builder/./node_modules/graph-modal/src/graph-modal.js","webpack://gulp-builder/./src/js/_components.js","webpack://gulp-builder/./src/js/scripts/modal.js","webpack://gulp-builder/./src/js/scripts/sliders.js","webpack://gulp-builder/webpack/bootstrap","webpack://gulp-builder/webpack/runtime/define property getters","webpack://gulp-builder/webpack/runtime/hasOwnProperty shorthand","webpack://gulp-builder/webpack/runtime/make namespace object","webpack://gulp-builder/./src/js/main.js"],"sourcesContent":["export default class GraphModal {\r\n  constructor(options) {\r\n    let defaultOptions = {\r\n      isOpen: () => {},\r\n      isClose: () => {},\r\n    }\r\n    this.options = Object.assign(defaultOptions, options);\r\n    this.modal = document.querySelector('.graph-modal');\r\n    this.speed = 300;\r\n    this.animation = 'fade';\r\n    this._reOpen = false;\r\n    this._nextContainer = false;\r\n    this.modalContainer = false;\r\n    this.isOpen = false;\r\n    this.previousActiveElement = false;\r\n    this._focusElements = [\r\n      'a[href]',\r\n      'input',\r\n      'select',\r\n      'textarea',\r\n      'button',\r\n      'iframe',\r\n      '[contenteditable]',\r\n      '[tabindex]:not([tabindex^=\"-\"])'\r\n    ];\r\n    this._fixBlocks = document.querySelectorAll('.fix-block');\r\n    this.events();\r\n  }\r\n\r\n  events() {\r\n    if (this.modal) {\r\n      document.addEventListener('click', function (e) {\r\n        const clickedElement = e.target.closest(`[data-graph-path]`);\r\n        if (clickedElement) {\r\n          let target = clickedElement.dataset.graphPath;\r\n          let animation = clickedElement.dataset.graphAnimation;\r\n          let speed = clickedElement.dataset.graphSpeed;\r\n          this.animation = animation ? animation : 'fade';\r\n          this.speed = speed ? parseInt(speed) : 300;\r\n          this._nextContainer = document.querySelector(`[data-graph-target=\"${target}\"]`);\r\n          this.open();\r\n          return;\r\n        }\r\n\r\n        if (e.target.closest('.js-modal-close')) {\r\n          this.close();\r\n          return;\r\n        }\r\n      }.bind(this));\r\n\r\n      window.addEventListener('keydown', function (e) {\r\n        if (e.keyCode == 27 && this.isOpen) {\r\n          this.close();\r\n        }\r\n\r\n        if (e.which == 9 && this.isOpen) {\r\n          this.focusCatch(e);\r\n          return;\r\n        }\r\n      }.bind(this));\r\n\r\n      document.addEventListener('click', function (e) {\r\n        if (e.target.classList.contains('graph-modal') && e.target.classList.contains(\"is-open\")) {\r\n          this.close();\r\n        }\r\n      }.bind(this));\r\n    }\r\n\r\n  }\r\n\r\n  open(selector) {\r\n    this.previousActiveElement = document.activeElement;\r\n\r\n    if (this.isOpen) {\r\n      this.reOpen = true;\r\n      this.close();\r\n      return;\r\n    }\r\n\r\n    this.modalContainer = this._nextContainer;\r\n\r\n    if (selector) {\r\n      this.modalContainer = document.querySelector(`[data-graph-target=\"${selector}\"]`);\r\n    }\r\n    \r\n    this.modalContainer.scrollTo(0, 0)\r\n\r\n    this.modal.style.setProperty('--transition-time', `${this.speed / 1000}s`);\r\n    this.modal.classList.add('is-open');\r\n\r\n    document.body.style.scrollBehavior = 'auto';\r\n    document.documentElement.style.scrollBehavior = 'auto';\r\n\r\n    this.disableScroll();\r\n\r\n    this.modalContainer.classList.add('graph-modal-open');\r\n    this.modalContainer.classList.add(this.animation);\r\n\r\n    setTimeout(() => {\r\n      this.options.isOpen(this);\r\n      this.modalContainer.classList.add('animate-open');\r\n      this.isOpen = true;\r\n      this.focusTrap();\r\n    }, this.speed);\r\n  }\r\n\r\n  close() {\r\n    if (this.modalContainer) {\r\n      this.modalContainer.classList.remove('animate-open');\r\n      this.modalContainer.classList.remove(this.animation);\r\n      this.modal.classList.remove('is-open');\r\n      this.modalContainer.classList.remove('graph-modal-open');\r\n\r\n      this.enableScroll();\r\n\r\n      document.body.style.scrollBehavior = 'auto';\r\n      document.documentElement.style.scrollBehavior = 'auto';\r\n\r\n      this.options.isClose(this);\r\n      this.isOpen = false;\r\n      this.focusTrap();\r\n\r\n      if (this.reOpen) {\r\n        this.reOpen = false;\r\n        this.open();\r\n      }\r\n    }\r\n  }\r\n\r\n  focusCatch(e) {\r\n    const nodes = this.modalContainer.querySelectorAll(this._focusElements);\r\n    const nodesArray = Array.prototype.slice.call(nodes);\r\n    const focusedItemIndex = nodesArray.indexOf(document.activeElement)\r\n    if (e.shiftKey && focusedItemIndex === 0) {\r\n      nodesArray[nodesArray.length - 1].focus();\r\n      e.preventDefault();\r\n    }\r\n    if (!e.shiftKey && focusedItemIndex === nodesArray.length - 1) {\r\n      nodesArray[0].focus();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  focusTrap() {\r\n    const nodes = this.modalContainer.querySelectorAll(this._focusElements);\r\n    if (this.isOpen) {\r\n      if (nodes.length) nodes[0].focus();\r\n    } else {\r\n      this.previousActiveElement.focus();\r\n    }\r\n  }\r\n\r\n  disableScroll() {\r\n    let pagePosition = window.scrollY;\r\n    this.lockPadding();\r\n    document.body.classList.add('disable-scroll');\r\n    document.body.dataset.position = pagePosition;\r\n    document.body.style.top = -pagePosition + 'px';\r\n  }\r\n\r\n  enableScroll() {\r\n    let pagePosition = parseInt(document.body.dataset.position, 10);\r\n    this.unlockPadding();\r\n    document.body.style.top = 'auto';\r\n    document.body.classList.remove('disable-scroll');\r\n    window.scrollTo({\r\n      top: pagePosition,\r\n      left: 0\r\n    });\r\n    document.body.removeAttribute('data-position');\r\n  }\r\n\r\n  lockPadding() {\r\n    let paddingOffset = window.innerWidth - document.body.offsetWidth + 'px';\r\n    this._fixBlocks.forEach((el) => {\r\n      el.style.paddingRight = paddingOffset;\r\n    });\r\n    document.body.style.paddingRight = paddingOffset;\r\n  }\r\n\r\n  unlockPadding() {\r\n    this._fixBlocks.forEach((el) => {\r\n      el.style.paddingRight = '0px';\r\n    });\r\n    document.body.style.paddingRight = '0px';\r\n  }\r\n}\r\n","console.log('components');\r\n","// Реализация модального окна\r\nimport GraphModal from 'graph-modal';\r\nconst modal = new GraphModal();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    const triggers = document.querySelectorAll(\".js-block-catalog-btn\");\r\n\r\n    triggers.forEach(function (trigger) {\r\n        trigger.addEventListener(\"click\", function () {\r\n            const item = trigger.closest(\".js-block-catalog-item\");\r\n\r\n            const name = item.querySelector(\".block-catalog__item-name\").textContent.trim();\r\n            const imageSrc = item.querySelector(\".block-catalog__item-image img\").getAttribute(\"src\");\r\n\r\n            const hiddenBlock = item.querySelector(\".js-block-catalog-text-hide\");\r\n            const hiddenText = hiddenBlock ? hiddenBlock.innerHTML : \"\";\r\n\r\n            document.querySelector(\".js-modal-name\").textContent = name;\r\n            document.querySelector(\".js-modal-image img\").setAttribute(\"src\", imageSrc);\r\n            document.querySelector(\".js-modal-content\").innerHTML = hiddenText;\r\n        });\r\n    });\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    const videoTriggers = document.querySelectorAll(\".block-video__image\");\r\n    const modalIframe = document.querySelector('[data-graph-target=\"modal-video\"] iframe');\r\n\r\n    videoTriggers.forEach(trigger => {\r\n        trigger.addEventListener(\"click\", () => {\r\n            const videoSrc = trigger.getAttribute(\"data-video-src\");\r\n            modalIframe.setAttribute(\"src\", videoSrc);\r\n        });\r\n    });\r\n\r\n    const modalClose = document.querySelector('[data-graph-target=\"modal-video\"] .js-modal-close');\r\n    modalClose.addEventListener(\"click\", () => {\r\n        modalIframe.setAttribute(\"src\", \"\");\r\n    });\r\n});\r\n\r\n\r\n","const blockVideoSlider = new Swiper('.block-video__slider', {\r\n  loop: false,\r\n  slidesPerView: 3,\r\n  spaceBetween: 24,\r\n  pagination: {\r\n    el: '.block-video__swiper-pagination',\r\n  },\r\n  navigation: {\r\n    nextEl: '.block-video__swiper-button-next',\r\n    prevEl: '.block-video__swiper-button-prev',\r\n  },\r\n  breakpoints: {\r\n    993: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 24\r\n    },\r\n    577: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 16\r\n    },\r\n    0: {\r\n      slidesPerView: 1,\r\n      spaceBetween: 20\r\n    },\r\n  }\r\n});\r\n\r\nlet heroProductionSlider = null;\r\n\r\nfunction initHeroProductionSlider() {\r\n  if (window.innerWidth <= 576 && !heroProductionSlider) {\r\n    heroProductionSlider = new Swiper('.hero-production__slider', {\r\n      loop: false,\r\n      slidesPerView: 1,\r\n      spaceBetween: 20,\r\n      pagination: {\r\n        el: '.hero-production__swiper-pagination',\r\n      },\r\n    });\r\n  } else if (window.innerWidth > 576 && heroProductionSlider) {\r\n    heroProductionSlider.destroy(true, true);\r\n    heroProductionSlider = null;\r\n  }\r\n}\r\n\r\ninitHeroProductionSlider();\r\n\r\nwindow.addEventListener('resize', () => {\r\n  initHeroProductionSlider();\r\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './_components.js';\r\n\r\nimport './scripts/sliders.js';\r\nimport './scripts/modal.js';\r\n"],"names":["console","log","GraphModal","modal","document","addEventListener","triggers","querySelectorAll","forEach","trigger","item","closest","name","querySelector","textContent","trim","imageSrc","getAttribute","hiddenBlock","hiddenText","innerHTML","setAttribute","videoTriggers","modalIframe","videoSrc","modalClose","blockVideoSlider","Swiper","loop","slidesPerView","spaceBetween","pagination","el","navigation","nextEl","prevEl","breakpoints","heroProductionSlider","initHeroProductionSlider","window","innerWidth","destroy"],"sourceRoot":""}